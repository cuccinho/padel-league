{% extends "base.html" %}

{% block title %}Games List{% endblock %}

{% block content %}
<h1 class="mb-4">Games Overview</h1>

<h2 class="mb-3">Player Combinations</h2>
<div class="row">
    {% for combination, stats in player_combinations.items() %}
    <div class="col-lg-4 col-md-6">
        <div class="card mb-3">
            <div class="card-body">
                <h5 class="card-title">{{ combination }}</h5>
                <ul class="list-group">
                    <li class="list-group-item"><strong>Games Played:</strong> {{ stats.games }}</li>
                    <li class="list-group-item"><strong>Matches Won:</strong> {{ stats.won }}</li>
                    <li class="list-group-item"><strong>Matches Lost:</strong> {{ stats.lost }}</li>
                    <li class="list-group-item"><strong>Points Won:</strong> {{ stats.points_won }}</li>
                    <li class="list-group-item"><strong>Points Lost:</strong> {{ stats.points_lost }}</li>
                </ul>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<h2 class="mt-5">Game Details</h2>
<table class="table table-bordered table-hover">
    <thead>
        <tr>
            <th>Game ID</th>
            <th>Team 1</th>
            <th>Team 2</th>
            <th>Score</th>
            <th>Date</th>
        </tr>
    </thead>
    <tbody>
        {% for game in games %}
        <tr>
            <td>{{ game.id }}</td>
            <td>
                {{ game.team1[0].name }} ({{ game.team1[0].position }}) &
                {{ game.team1[1].name }} ({{ game.team1[1].position }})
            </td>
            <td>
                {{ game.team2[0].name }} ({{ game.team2[0].position }}) &
                {{ game.team2[1].name }} ({{ game.team2[1].position }})
            </td>
            <td>{{ game.score_team1 }} - {{ game.score_team2 }}</td>
            <td>{{ game.date }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<form action="/games/reset" method="POST" class="mt-3">
    <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to reset all games?');">
        Reset Games
    </button>
</form>
{% endblock %}
